function entryPoint(){app=new AppController,app.initEB()}function isIE(){var a=navigator.userAgent.toLowerCase();return a.indexOf("msie")!=-1&&parseInt(a.split("msie")[1])}function getByValueForKey(a,b,c){for(var d=0,e=a.length;d<e;d++)if(a[d][b]==c)return a[d]}this.createjs=this.createjs||{},function(){"use strict";function a(a){this._stage=a,this.tickListener=null,this.awake=!0,this.sleepEnabled=!1,this.hidden=!1,this.pixelRatio=this._getBackingRatio(),this._time=0,this._awake=!0,this._sleepy=!1,this._sleepT=0,this._sleepMousedownT=null,this._sleepInBoundsT=null,this._sleepUseTicks=!1,this._mouseInDoc=!1,this._perfDelay=0,this._perfCount=0,this._perfThreshold=0,this._perfFPS=0,this._width=a.canvas.width,this._height=a.canvas.height,createjs.Ticker.on("tick",this)}var b=a.prototype;createjs.EventDispatcher&&(b=a.prototype=new createjs.EventDispatcher),a.isSupported=function(){return!!window.CanvasRenderingContext2D},a.showAltImage=function(b,c,d,e,f){return a.showAltHTML(b,(d?"<a target='"+(f||"_blank")+"' href='"+d+"'>":"")+"<img src='"+c+"' border='0' alt='"+(e||"")+"'>"+(d?"</a>":""))},a.showAltHTML=function(b,c){var d=document.createElement("div");return d.innerHTML=c||"",d.id="adAlt",a.showAlt(b,d)},a.showAlt=function(a,b){return"string"==typeof a&&(a=document.getElementById(a)),b.style.display="block",a.parentNode.replaceChild(b,a),b},b.timeSync=function(a){var b=void 0!==this._stage.masterFrameRate;if(this._stage.masterFrameRate=a||lib&&lib.properties&&lib.properties.fps||this._getTickerFPS(),b)return this;var c=createjs.Stage.prototype,d=createjs.MovieClip.prototype;return c.__tick=c._tick,c._tick=function(a){a.stage=this,this.__tick(a)},d.__tick=d._tick,d._tick=function(a){!this.ignoreMasterFrameRate&&a.stage&&(this.framerate=a.stage.masterFrameRate||null),this.__tick(a)},this},b.watchFPS=function(a,b){return this._perfFPS=a||.9*this._getTickerFPS()-1|0,this._perfThreshold=b||1,this._perfCount=0,this._perfDelay=5,this},b.highDPI=function(a,b){b=b||1;var c=this._getBackingRatio(),d=Math.max(1,(window.devicePixelRatio||1)/c),e=this._stage,f=e.canvas,g=f.style,h=this._width/b,i=this._height/b;return a===!1&&(d=1/c),f.width=h*d,f.height=i*d,g.width=h+"px",g.height=i+"px",e.scaleX=e.scaleY=d/b,this.pixelRatio=(1===c?d:a===!1?1:c)/b,this},b.setSleep=function(a,b,c,d,e){return null!=b&&stage.addEventListener("stagemousedown",this),null!=c&&(document.addEventListener("mouseout",this,!0),document.addEventListener("mousemove",this,!0)),this.tickListener=e||this._stage,this._sleepMousedownT=b,this._sleepInBoundsT=c,this._sleepUseTicks=!!d,this.sleepEnabled=!0,this._sleepy=!1,this._sleepT=null!=a?this._getTime()+1e3*a:0,this},b.sleep=function(a){return a?void(this._sleepT=this._getTime()+(a||0)):(this._sleepy=!1,this._sleepT=0,this._awake=!1,void this._sleep())},b.wake=function(a){this._sleepy=!1,null!=a?this._sleepT=Math.max(this._sleepT,this._getTime()+(a||0)):this._sleepT=0,this._awake=!0,this._wake()},b.handleEvent=function(a){if("tick"===a.type)this._tick(a);else if("stagemousedown"===a.type){var b=this._sleepMousedownT;this.sleepEnabled&&null!=b&&this.wake(1e3*b)}else"mousemove"===a.type?this._mouseInDoc=!0:"mouseout"===a.type&&(this._mouseInDoc=!1)},b._getTickerFPS=function(){return createjs.Ticker.timingMode==createjs.Ticker.RAF?60:createjs.Ticker.framerate},b._sleep=function(){this.awake&&(createjs.Ticker.paused=!0,this.tickListener&&createjs.Ticker.removeEventListener("tick",this.tickListener),window.TweenLite&&TweenLite.ticker&&TweenLite.ticker.sleep(),this.dispatchEvent("sleep"),this.awake=!1)},b._wake=function(){if(!this.awake){if(createjs.Ticker.paused=!1,this.tickListener&&createjs.Ticker.addEventListener("tick",this.tickListener),window.TweenLite){var a=TweenLite.ticker,b=a.frame;a.frame=1,a.wake(!0),a.frame=b}this.dispatchEvent("wake"),this.awake=!0}},b._tick=function(a){if(document.hidden||document.webkitHidden||document.mozHidden)return this.hidden=!0,this._sleep(),void(createjs.Sound&&(createjs.Sound.muted=!0));this.hidden&&(this.hidden=!1,this._awake&&this._wake(),this._perfDelay=3,createjs.Sound&&(createjs.Sound.muted=!1)),this._time+=this._sleepUseTicks?1:a.delta;var b;if(this._perfFPS&&--this._perfDelay<=0&&(b=createjs.Ticker.getMeasuredFPS(1))>-1){var c=1-Math.max(0,Math.min(1,b/this._perfFPS));this._perfCount=Math.max(0,this._perfCount+(0===c?-.2:c*c*.5+.1)),this._perfCount>this._perfThreshold&&(this._perfFPS=0,this.dispatchEvent(new createjs.Event("slow",(!1),(!0)))&&(this.sleep(),this.sleepEnabled=!1))}this.sleepEnabled&&(null!=this._sleepInBoundsT&&this._stage.mouseInBounds&&this._mouseInDoc&&this.wake(1e3*this._sleepInBoundsT),this._sleepy?this.sleep():this._sleepT&&this._getTime()>=this._sleepT&&(this._sleepy=!0))},b._getTime=function(){return this._time},b._getBackingRatio=function(){var a=this._stage.canvas.getContext("2d");return a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||1},createjs.AdHelper=a}();var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;!function(a){"use strict";var b=a.GreenSockGlobals||a,c=function(a){var c,d=a.split("."),e=b;for(c=0;c<d.length;c++)e[d[c]]=e=e[d[c]]||{};return e},d=c("com.greensock.utils"),e=function(a){var b=a.nodeType,c="";if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===b||4===b)return a.nodeValue;return c},f=document,g=f.defaultView?f.defaultView.getComputedStyle:function(){},h=/([A-Z])/g,i=function(a,b,c,d){var e;return(c=c||g(a,null))?(a=c.getPropertyValue(b.replace(h,"-$1").toLowerCase()),e=a||c.length?a:c[b]):a.currentStyle&&(c=a.currentStyle,e=c[b]),d?e:parseInt(e,10)||0},j=function(a){return!!(a.length&&a[0]&&(a[0].nodeType&&a[0].style&&!a.nodeType||a[0].length&&a[0][0]))},k=function(a){var b,c,d,e=[],f=a.length;for(b=0;f>b;b++)if(c=a[b],j(c))for(d=c.length,d=0;d<c.length;d++)e.push(c[d]);else e.push(c);return e},l=/(?:\r|\n|\s\s|\t\t)/g,m=")eefec303079ad17405c",n=/(?:<br>|<br\/>|<br \/>)/gi,o=f.all&&!f.addEventListener,p=" style='position:relative;display:inline-block;"+(o?"*display:inline;*zoom:1;'":"'"),q=function(a,b){a=a||"";var c=-1!==a.indexOf("++"),d=1;return c&&(a=a.split("++").join("")),function(){return"<"+b+p+(a?" class='"+a+(c?d++:"")+"'>":">")}},r=d.SplitText=b.SplitText=function(a,b){if("string"==typeof a&&(a=r.selector(a)),!a)throw"cannot split a null element.";this.elements=j(a)?k(a):[a],this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=b||{},this.split(b)},s=function(a,b,c){var d=a.nodeType;if(1===d||9===d||11===d)for(a=a.firstChild;a;a=a.nextSibling)s(a,b,c);else(3===d||4===d)&&(a.nodeValue=a.nodeValue.split(b).join(c))},t=function(a,b){for(var c=b.length;--c>-1;)a.push(b[c])},u=function(a,b,c,d,h){n.test(a.innerHTML)&&(a.innerHTML=a.innerHTML.replace(n,m));var j,k,o,p,r,u,v,w,x,y,z,A,B,C,D=e(a),E=b.span?"span":"div",F=b.type||b.split||"chars,words,lines",G=-1!==F.indexOf("lines")?[]:null,H=-1!==F.indexOf("words"),I=-1!==F.indexOf("chars"),J="absolute"===b.position||b.absolute===!0,K=b.wordDelimiter||" ",L=" "!==K?"":J?"&#173; ":" ",M=-999,N=g(a),O=i(a,"paddingLeft",N),P=i(a,"borderBottomWidth",N)+i(a,"borderTopWidth",N),Q=i(a,"borderLeftWidth",N)+i(a,"borderRightWidth",N),R=i(a,"paddingTop",N)+i(a,"paddingBottom",N),S=i(a,"paddingLeft",N)+i(a,"paddingRight",N),T=i(a,"textAlign",N,!0),U=.2*i(a,"fontSize"),V=a.clientHeight,W=a.clientWidth,X=b.span?"</span>":"</div>",Y=q(b.wordsClass,E),Z=q(b.charsClass,E),$=-1!==(b.linesClass||"").indexOf("++"),_=b.linesClass,aa=-1!==D.indexOf("<"),ba=!0,ca=[],da=[],ea=[];for(0!=!b.reduceWhiteSpace&&(D=D.replace(l,"")),$&&(_=_.split("++").join("")),aa&&(D=D.split("<").join("{{LT}}")),j=D.length,p=Y(),r=0;j>r;r++)if(v=D.charAt(r),")"===v&&D.substr(r,20)===m)p+=(ba?X:"")+"<BR/>",ba=!1,r!==j-20&&D.substr(r+20,20)!==m&&(p+=" "+Y(),ba=!0),r+=19;else if(v===K&&D.charAt(r-1)!==K&&r!==j-1&&D.substr(r-20,20)!==m){for(p+=ba?X:"",ba=!1;D.charAt(r+1)===K;)p+=L,r++;(")"!==D.charAt(r+1)||D.substr(r+1,20)!==m)&&(p+=L+Y(),ba=!0)}else"{"===v&&"{{LT}}"===D.substr(r,6)?(p+=I?Z()+"{{LT}}</"+E+">":"{{LT}}",r+=5):p+=I&&" "!==v?Z()+v+"</"+E+">":v;for(a.innerHTML=p+(ba?X:""),aa&&s(a,"{{LT}}","<"),u=a.getElementsByTagName("*"),j=u.length,w=[],r=0;j>r;r++)w[r]=u[r];if(G||J)for(r=0;j>r;r++)x=w[r],o=x.parentNode===a,(o||J||I&&!H)&&(y=x.offsetTop,G&&o&&Math.abs(y-M)>U&&"BR"!==x.nodeName&&(k=[],G.push(k),M=y),J&&(x._x=x.offsetLeft,x._y=y,x._w=x.offsetWidth,x._h=x.offsetHeight),G&&(H!==o&&I||(k.push(x),x._x-=O),o&&r&&(w[r-1]._wordEnd=!0),"BR"===x.nodeName&&x.nextSibling&&"BR"===x.nextSibling.nodeName&&G.push([])));for(r=0;j>r;r++)x=w[r],o=x.parentNode===a,"BR"!==x.nodeName?(J&&(A=x.style,H||o||(x._x+=x.parentNode._x,x._y+=x.parentNode._y),A.left=x._x+"px",A.top=x._y+"px",A.position="absolute",A.display="block",A.width=x._w+1+"px",A.height=x._h+"px"),H?o&&""!==x.innerHTML?da.push(x):I&&ca.push(x):o?(a.removeChild(x),w.splice(r--,1),j--):!o&&I&&(y=!G&&!J&&x.nextSibling,a.appendChild(x),y||a.appendChild(f.createTextNode(" ")),ca.push(x))):G||J?(a.removeChild(x),w.splice(r--,1),j--):H||a.appendChild(x);if(G){for(J&&(z=f.createElement(E),a.appendChild(z),B=z.offsetWidth+"px",y=z.offsetParent===a?0:a.offsetLeft,a.removeChild(z)),A=a.style.cssText,a.style.cssText="display:none;";a.firstChild;)a.removeChild(a.firstChild);for(C=" "===K&&(!J||!H&&!I),r=0;r<G.length;r++){for(k=G[r],z=f.createElement(E),z.style.cssText="display:block;text-align:"+T+";position:"+(J?"absolute;":"relative;"),_&&(z.className=_+($?r+1:"")),ea.push(z),j=k.length,u=0;j>u;u++)"BR"!==k[u].nodeName&&(x=k[u],z.appendChild(x),C&&(x._wordEnd||H)&&z.appendChild(f.createTextNode(" ")),J&&(0===u&&(z.style.top=x._y+"px",z.style.left=O+y+"px"),x.style.top="0px",y&&(x.style.left=x._x-y+"px")));0===j&&(z.innerHTML="&nbsp;"),H||I||(z.innerHTML=e(z).split(String.fromCharCode(160)).join(" ")),J&&(z.style.width=B,z.style.height=x._h+"px"),a.appendChild(z)}a.style.cssText=A}J&&(V>a.clientHeight&&(a.style.height=V-R+"px",a.clientHeight<V&&(a.style.height=V+P+"px")),W>a.clientWidth&&(a.style.width=W-S+"px",a.clientWidth<W&&(a.style.width=W+Q+"px"))),t(c,ca),t(d,da),t(h,ea)},v=r.prototype;v.split=function(a){this.isSplit&&this.revert(),this.vars=a||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var b=this.elements.length;--b>-1;)this._originals[b]=this.elements[b].innerHTML,u(this.elements[b],this.vars,this.chars,this.words,this.lines);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},v.revert=function(){if(!this._originals)throw"revert() call wasn't scoped properly.";for(var a=this._originals.length;--a>-1;)this.elements[a].innerHTML=this._originals[a];return this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},r.selector=a.$||a.jQuery||function(b){var c=a.$||a.jQuery;return c?(r.selector=c,c(b)):"undefined"==typeof document?b:document.querySelectorAll?document.querySelectorAll(b):document.getElementById("#"===b.charAt(0)?b.substr(1):b)},r.version="0.4.0"}(_gsScope),function(a){"use strict";var b=function(){return(_gsScope.GreenSockGlobals||_gsScope)[a]};"function"==typeof define&&define.amd?define([],b):"undefined"!=typeof module&&module.exports&&(module.exports=b())}("SplitText");var app,stage,lib={},canvas,loader;!function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}a.prototype=window.Event.prototype,window.CustomEvent=a}();var inheritsFrom=function(a,b){a.prototype=Object.create(b.prototype)},AppControllerBase=function(){this.contentModel={}};$.extend(AppControllerBase.prototype,{initEB:function(){this.init()},init:function(){console.log("[AppControllerBase] init"),canvas=document.getElementById("canvas");var a=this;return!createjs.AdHelper.isSupported()||isIE()&&isIE()<9?(createjs.AdHelper.showAltImage(canvas,"backup-image.jpg","",""),document.getElementById("adAlt").style.cursor="pointer",void(document.getElementById("adAlt").onclick=function(){EB.clickthrough()})):(console.log("begin loading assets from manifest..."),loader=new createjs.LoadQueue((!0)),loader.addEventListener("complete",function(){a.handleLoadComplete()}),void loader.loadManifest(lib.properties.manifest))},handleLoadComplete:function(){console.log("assets loaded."),this.contentModel=loader.getResult("Content"),stage=new createjs.Stage(canvas),stage.snapToPixelEnabled=!0,stage.snapToPixel=!0,stage.update(),stage.enableMouseOver(),createjs.Ticker.setFPS(lib.properties.fps),createjs.Touch.enable(stage);var a=(new createjs.AdHelper(stage).setSleep(29,29,29).timeSync().highDPI(),new FlowController(stage,this.contentModel));a.init()}});var FlowControllerBase=function(a,b){console.log("[FlowControllerBase] Setting scope variables."),this.stage=a,this.contentModel=b,this.bannerAnimationIsComplete=!1,this.bannerDimension=null,this.docWidth=null,this.docHeight=null,this.fullContainer,this.mainTimeline=new TimelineMax,this.sceneryTL=new TimelineMax,this.copiesTL=new TimelineMax,this._debugger};$.extend(FlowControllerBase.prototype,{init:function(){var a=this;this.docWidth=lib.properties.width,this.docHeight=lib.properties.height,this.bannerDimension=this.docWidth+"x"+this.docHeight,console.log("init");var b=document.getElementById("container"),c=adkit.getSVData("logo");switch(document.getElementById("logo").src=EB.getAssetUrl("",c),this.cta_color_out=adkit.getSVData("cta_color_out"),this.cta_color_over=adkit.getSVData("cta_color_over"),$("#cta").html(adkit.getSVData("cta")),$("#copy1").html(adkit.getSVData("copy1")),$("#copy1b").html(adkit.getSVData("copy1b")),TweenMax.set("#cta-container",{backgroundColor:this.cta_color_out,x:adkit.getSVData("cta_x"),y:adkit.getSVData("cta_y"),width:adkit.getSVData("cta_width"),height:adkit.getSVData("cta_height"),padding:adkit.getSVData("cta_padding_vertical")+" "+adkit.getSVData("cta_padding_horizontal"),transformOrigin:"50% 50%",bottom:adkit.getSVData("cta_position_bottom"),fontSize:adkit.getSVData("cta_font_size")}),TweenMax.set("#logo",{width:adkit.getSVData("logo_width"),height:adkit.getSVData("logo_height"),x:adkit.getSVData("logo_x"),y:adkit.getSVData("logo_y")}),adkit.getSVData("cta_position")){case"left":TweenMax.set("#cta-container",{left:0});break;case"right":TweenMax.set("#cta-container",{right:0});break;default:console.log("CTA position - no conditions met, default to center"),TweenMax.set("#cta-container",{right:"-50%",left:"50%",xPercent:-50})}switch(adkit.getSVData("cta_text_align")){case"left":case"right":TweenMax.set("#cta-container",{textAlign:adkit.getSVData("cta_text_align")});break;default:console.log("CTA text align - no conditions met, default to center"),TweenMax.set("#cta-container",{textAlign:"center"})}switch(adkit.getSVData("logo_position")){case"TL":TweenMax.set("#logo",{top:0,left:0});break;case"TM":TweenMax.set("#logo",{top:0,right:"-50%",left:"50%",xPercent:-50});break;case"TR":TweenMax.set("#logo",{top:0,right:0});break;case"BR":TweenMax.set("#logo",{bottom:0,right:0});break;case"BM":TweenMax.set("#logo",{bottom:0,right:"-50%",left:"50%",xPercent:-50});break;case"BL":TweenMax.set("#logo",{bottom:0,left:0});break;default:console.log("CTA position - no conditions met, default to center"),TweenMax.set("#logo",{right:"-50%",left:"50%",xPercent:-50})}"false"==adkit.getSVData("logo_visible")&&TweenMax.set("#logo",{display:"none"}),b.addEventListener("click",function(b){a.handleClick(b)},!1),b.addEventListener("mouseout",function(b){a.handleOut(b)},!1),b.addEventListener("mouseover",function(b){a.handleOver(b)},!1),createjs.Ticker.addEventListener("tick",function(){a.update()}),this.setupCommonElements(),this.setupFormatSpecificElements()},setupCommonElements:function(){this.fullContainer=new createjs.Container,this.stage.addChild(this.fullContainer),console.log("BANNER DETAILS:","\n   Dimension:                  ",this.bannerDimension),this.mainTimeline.addLabel("fr1","0").addLabel("fr2","+=3").addLabel("fr3","+=6").addLabel("fr4","+=9").addLabel("fr5","+=12").addLabel("fr6","+=15").addLabel("fr7","+=18").addLabel("fr8","+=21").addLabel("fr9","+=24").addLabel("fr10","+=27").set("#container",{opacity:1}).to("#black_fader",.5,{opacity:0},"fr1"),this.createSceneryTimeline(),this.checkForDebugger()},setupFormatSpecificElements:function(){var a=this.mainTimeline.getLabelsArray(),b=(document.getElementsByTagName("head")[0].innerHTML,"#frames"),c=new Transition,d=(adkit.getSVData("totalImages"),adkit.getSVData("transitionParamsInit").split(",")),e=adkit.getSVData("transitionParamsData").split(",");c.init(b,d),c.animate(this.sceneryTL,a,b,e),console.log("TRANSITION:","\n         -[init]     @params ",d,"\n         -[animate]  @params ",e)},checkForDebugger:function(){var a=document.getElementsByTagName("head")[0].innerHTML;a.match("debugger")&&!$("head").html().match(/debugger.*?-->/g)&&(console.log("Found debugger!"),this._debugger=new Debugger,this._debugger.init([this.sceneryTL,this.copiesTL],this.docWidth,this.docHeight))},createSceneryTimeline:function(){console.log("Creating SCENERY timeline.");var a=this.mainTimeline.getLabelsArray(),b=adkit.getSVData("transitionParamsInit").split(","),c=parseInt(b[0]),d=adkit.getSVData("logo_shown_frame").split(","),e=adkit.getSVData("cta_shown_frame").split(",");if(console.log("CTA LOGO",d,e),"all"!=d){console.log("LOGO will appear on frames",d);for(var f=0;f<c;f++)0==f?this.sceneryTL.to("#logo",0,{opacity:0},a[f].time):this.sceneryTL.to("#logo",.3,{opacity:0},a[f].time);for(var g=0;g<d.length;g++)this.sceneryTL.to("#logo",.3,{opacity:1},a[d[g]-1].time)}if("all"!=e){console.log("CTA will appear on frames",e);for(var h=0;h<c;h++)0==h?this.sceneryTL.to("#cta-container",0,{opacity:0},a[h].time):this.sceneryTL.to("#cta-container",.3,{opacity:0},a[h].time);for(var i=0;i<e.length;i++)this.sceneryTL.to("#cta-container",.3,{opacity:1},a[e[i]-1].time)}},createCopiesTimeline:function(){console.log("Creating COPIES timeline.");var a=this.mainTimeline.getLabelsArray(),b=1,c=document.getElementById("copy-container-"+b),d=new SplitText("#copy"+b,{linesClass:"line++"}),e=new SplitText("#copy"+b+"b",{linesClass:"line++"});this.copiesTL.addLabel(a[0].name).set(c,{opacity:1,rotationY:0}).staggerFrom(e.words,.5,{opacity:0,scaleX:4,x:-200,y:0,rotationX:90,ease:Power2.easeInOut},.03,a[1].time).staggerFrom(d.words.reverse(),.5,{opacity:0,scaleX:4,x:-200,y:0,rotationX:90,ease:Power2.easeInOut},.03,"-=0.5").to(c,5,{rotationY:"+=30",ease:Power2.easeOut},"-=0").staggerTo(e.words.reverse(),.2,{opacity:0,scaleX:2,x:200,y:0,rotationX:180,ease:Power2.easeInOut},.03,"-=3.5").staggerTo(d.words.reverse(),.2,{opacity:0,scaleX:4,x:200,y:0,rotationX:180,ease:Power2.easeInOut},.03,"-=3.4")},update:function(a){this.stage.update()},handleOver:function(a){TweenMax.to("#cta-container",.2,{backgroundColor:this.cta_color_over})},handleOut:function(a){TweenMax.set("#cta-container",{backgroundColor:this.cta_color_out})},handleClick:function(a){console.log("FlowControllerBase: buttonEvent - CLICK"),EB.clickthrough()}}),function(){function a(){this.Container_constructor(),this.isPaused=!1,this.interval,this.btn_play}var b=createjs.extend(a,createjs.Container);b.init=function(a,c,d){var e=this,f=$("<div/>",{id:"text_pct"}).appendTo($("body"));f.css({width:"50px",height:"20px","font-size":"18px",color:"blue","margin-top":"5px","margin-left":"10px"}),$(f).html("0%");var g=$("<input/>",{id:"text_time",type:"number",step:"0.01"}).appendTo($("body"));g.css({position:"absolute",width:"70px",height:"20px","font-size":"18px",color:"black","margin-top":"-21px","margin-left":"80px"}),$(g).val(a[0]._time);var h=$("<div/>",{id:"text_totalTime"}).appendTo($("body"));h.css({position:"absolute",width:"50px",height:"20px","font-size":"18px",color:"grey","margin-top":"-20px","margin-left":"155px"}),$(h).html("/"+a[0]._duration.toFixed(2)+"s"),this.btn_play=document.createElement("BUTTON"),this.btn_play.setAttribute("type","button"),this.btn_play.innerHTML="PAUSE",this.btn_play.style.position="absolute",this.btn_play.style.marginLeft="245px",this.btn_play.style.marginTop="-20px",document.body.appendChild(this.btn_play);var i=$("<input/>",{id:"scrubber",type:"range"}).appendTo($("body"));$(i).css({display:"inline-block",width:"98%"}),b.scrubberChange(this,a),this.btn_play.addEventListener("click",function(){for(var b=0;b<a.length;b++)a[b].paused()?(e.isPaused=!1,a[b].play(),e.interval=setInterval(e.update,100,[e,a])):a[b].pause()}),$(document.documentElement).keydown(function(b){13!=b.keyCode&&38!=b.keyCode&&40!=b.keyCode||(console.log("here"),e.updateScrubber(a,$(g).val()/a[0]._duration*100,$(g).val()),a[0].progress($(g).val()/a[0]._duration),a[1].progress($(g).val()/a[1]._duration/(a[0]._duration/a[1]._duration)))}),this.interval=setInterval(this.update,100,[this,a])},b.updateScrubber=function(a,b,c){var d=document.getElementById("scrubber");d.value=b,$("#text_pct").html(Math.ceil(b).toFixed(0)+"%"),$("#text_time").val(c),100==b&&"PLAY"!=this.btn_play.innerHTML&&(this.btn_play.innerHTML="PLAY"),this.btn_play.innerHTML=a[0].paused()?"PLAY":"PAUSE"},b.isPaused=function(a){return a.isPaused},b.cancelInterval=function(a){clearInterval(a.interval)},b.scrubberChange=function(a,c){var d=document.getElementById("scrubber");d.addEventListener("input",function(){a.isPaused=!0,b.cancelInterval(a);for(var d=0;d<c.length;d++){var e=$(this)[0].valueAsNumber;c[d].progress(e/100),c[d].pause(),a.updateScrubber(c,e,c[0]._time.toFixed(2))}})},b.update=function(a){var c=a[0],d=a[1];if(c.isPaused||c.updateScrubber(d,Math.ceil(100*d[0]._time/d[0]._duration),d[0]._time.toFixed(2)),$(text_totalTime).html("/"+d[0]._duration.toFixed(2)+"s"),$("#text_time").is(":focus")){c.isPaused=!0,b.cancelInterval(c);for(var e=0;e<d.length;e++)d[e].pause();c.btn_play.innerHTML=d[0].paused()?"PLAY":"PAUSE"}},window.Debugger=createjs.promote(a,"Container")}();var AppController=function(){AppControllerBase.call(this),lib.properties={width:300,height:600,fps:60,sceneryData:{},manifest:[{src:"data/content.json",id:"Content"}]}};inheritsFrom(AppController,AppControllerBase);var FlowController=function(a,b){FlowControllerBase.call(this,a,b)};inheritsFrom(FlowController,FlowControllerBase),$.extend(FlowController.prototype,{}),function(){function a(){this.Container_constructor()}var b=createjs.extend(a,createjs.Container);b.init=function(a,c){console.log("--------- transition system init"),$(a).css({position:"relative"});for(var d=parseInt(c[0]);d>0;d--)b.createElement($(a),d)},b.animate=function(a,c,d,e){for(var f=1;f<$(d).children().length;f++)b.swipeDown(a,c,f,$(d).children().eq($(d).children().length-f),e[0],e[1],e[2]),b.swipeUp(a,c,f,$(d).children().eq($(d).children().length-f-1),e[0],e[1],e[2])},b.createElement=function(a,b){console.log("Creating image",b,"on container",a.selector);var c=$("<div/>",{id:"image"+b}).appendTo(a),d=adkit.getSVData("image"+b);c.prepend($("<img>",{"class":"thisImage",src:EB.getAssetUrl("",d)})),$(".thisImage").css({width:$("#container").outerWidth(),height:$("#container").outerHeight()}),c.css({position:"absolute",display:"block"})},b.swipeDown=function(a,b,c,d,e,f,g){a.to(d,e,{xPercent:f,yPercent:g},b[c].time)},b.swipeUp=function(a,b,c,d,e,f,g){a.from(d,e,{xPercent:f,yPercent:g,opacity:0,scale:.8},b[c].time)},window.Transition=createjs.promote(a,"Container")}();
